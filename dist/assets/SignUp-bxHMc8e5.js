import{d as F,g as x,u as V,y as h,w as g,c as r,j as b,l as _,F as L,D as U,o as a,a as e,n as z,p as y,v as D,q as l,t as f,f as w,C as P,e as k,k as E}from"./index-L9FfN0sg.js";import{_ as A}from"./logo-DvPXu7Y6.js";import{_ as N}from"./AuthLayout.vue_vue_type_script_setup_true_lang-DWqLQrr6.js";import{_ as T,v as d,u as Z,a as $}from"./_plugin-vue_export-helper-D3a9Murb.js";import"./useTheme-8FjXQqbL.js";const q={class:"py-[30px] md:py-[28px] md:px-[50px] md:bg-white md:w-[460px] md:min-h-[500px] box-border mx-auto md:rounded-[16px] md:shadow-lg"},I={class:"flex flex-col mt-2 mb-2 gap-1"},J={key:0,class:"text-red-400 text-sm"},O={class:"w-full mb-2"},R={class:"relative flex flex-col gap-1"},G=["type"],H={key:0,class:"text-red-400 text-sm"},K={class:"w-full mb-2"},Q={class:"relative flex flex-col gap-1"},W=["type"],X={key:0,class:"text-red-400 text-sm"},Y={class:""},ss=["disabled"],es={key:0,class:"animate-spin rounded-full h-4 w-4 border-t-4 border-blue-500 border-solid"},os={class:"mt-3 flex justify-center items-center"},ts={class:"block"},rs=F({__name:"SignUp",setup(as){const u=Z(),n=x(!1),p=x(!1),m=x(!1),C=V(),t=h({email:"",password:"",confirmPassword:""}),o=h({email:{message:"",valid:!0},password:{message:"",valid:!0},confirmPassword:{message:"",valid:!0}}),M=()=>{p.value=!p.value},j=()=>{m.value=!m.value},S=()=>{o.email=d.validateEmail(t.email),o.password=d.validatePassword(t.password),o.confirmPassword=d.validateConfirmPassword(t.password,t.confirmPassword)};g(()=>t.email,()=>{o.email=d.validateEmail(t.email)},{deep:!0}),g(()=>t.password,()=>{o.password=d.validatePassword(t.password)},{deep:!0}),g(()=>t.confirmPassword,()=>{o.confirmPassword=d.validateConfirmPassword(t.password,t.confirmPassword)},{deep:!0});const B=async()=>{try{if(n.value=!0,S(),!Object.values(o).every(v=>v.valid)){u.error(" Preencha todos os campos!");return}const s=await C.signup(t);s.success?(u.success(s.message),setTimeout(()=>{E.push("/")},3e3)):u.error(s.message)}catch(c){u.error(`Erro: ${c}`),console.log(c)}finally{n.value=!1}};return(c,s)=>{const v=U("router-link");return a(),r(L,null,[b(N,null,{default:_(()=>[e("div",q,[s[12]||(s[12]=e("div",{class:"mb-5"},[e("a",{href:"/"},[e("img",{class:"md:max-w-[160px] max-w-[150px]",src:A,alt:""})])],-1)),s[13]||(s[13]=e("h1",{class:"my-1 font-[700] text-2xl"},"Cria sua conta",-1)),s[14]||(s[14]=e("p",{class:"text-[14px] text-[#344054] font-[500]"},"Para usar o sistema, por favor informe os seus dados",-1)),e("form",{onSubmit:z(B,["prevent"]),class:""},[e("div",I,[s[3]||(s[3]=e("span",{class:"text-[#344054] text-sm font-[500]"},"E-mail",-1)),y(e("input",{"onUpdate:modelValue":s[0]||(s[0]=i=>t.email=i),class:l([o.email.valid?"":"border-red-400 focus:ring-red-400","w-full px-4 py-2 border border-[#003F72] rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent"]),type:"text",placeholder:"Seu e-mail"},null,2),[[D,t.email]]),o.email.valid?w("",!0):(a(),r("span",J,f(o.email.message),1))]),e("div",O,[e("div",R,[s[6]||(s[6]=e("span",{class:"text-[#344054] text-sm font-[500]"},"Palavra-passe",-1)),y(e("input",{"onUpdate:modelValue":s[1]||(s[1]=i=>t.password=i),type:p.value?"text":"password",class:l([o.password.valid?"":"border-red-400 focus:ring-red-400","w-full px-4 py-2 border border-[#003F72] rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent"]),placeholder:"Digite sua palavra-passe"},null,10,G),[[P,t.password]]),e("button",{type:"button",onClick:M,class:l([o.password.valid?"":"border-red-400 focus:ring-red-400","absolute inset-y-0 top-7 right-0 px-3 flex items-center text-gray-500 hover:text-gray-700 focus:outline-none"])},[p.value?(a(),r("svg",{key:0,class:l([o.password.valid?"":"text-red-400","size-6"]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},s[4]||(s[4]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"},null,-1),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"},null,-1)]),2)):(a(),r("svg",{key:1,class:l([o.password.valid?"":"text-red-400","size-6"]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},s[5]||(s[5]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"},null,-1)]),2))],2)]),o.password.valid?w("",!0):(a(),r("span",H,f(o.password.message),1))]),e("div",K,[e("div",Q,[s[9]||(s[9]=e("span",{class:"text-[#344054] text-sm font-[500]"},"Confirmação da Palavra-passe",-1)),y(e("input",{"onUpdate:modelValue":s[2]||(s[2]=i=>t.confirmPassword=i),type:m.value?"text":"password",class:l([o.confirmPassword.valid?"":"border-red-400 focus:ring-red-400","w-full px-4 py-2 border border-[#003F72] rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent"]),placeholder:"Repete a palavra-passe"},null,10,W),[[P,t.confirmPassword]]),e("button",{type:"button",onClick:j,class:"absolute inset-y-0 top-7 right-0 px-3 flex items-center text-gray-500 hover:text-gray-700 focus:outline-none"},[m.value?(a(),r("svg",{key:0,class:l([o.confirmPassword.valid?"":"text-red-400","size-6"]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},s[7]||(s[7]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"},null,-1),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"},null,-1)]),2)):(a(),r("svg",{key:1,class:l([o.confirmPassword.valid?"":"text-red-400","size-6"]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},s[8]||(s[8]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"},null,-1)]),2))])]),o.confirmPassword.valid?w("",!0):(a(),r("span",X,f(o.confirmPassword.message),1))]),e("div",Y,[e("button",{type:"submit",class:l(["flex items-center gap-3 justify-center mt-3 bg-[#003F72] text-white w-full py-[10px] px-[20px] rounded-[12px] font-bold",{disable:n.value}]),disabled:n.value},[k(f(n.value?"Processando...":"Criar conta")+" ",1),n.value?(a(),r("div",es)):w("",!0)],10,ss),e("div",os,[e("span",ts,[s[11]||(s[11]=k("Já tens uma conta?")),b(v,{class:"text-center ml-1 hover:underline",to:"/login"},{default:_(()=>s[10]||(s[10]=[k("Login")])),_:1})])])])],32)])]),_:1}),b(T)],64)}}}),ps=$(rs,[["__scopeId","data-v-55ce08d0"]]);export{ps as default};
