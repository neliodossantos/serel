var k=Object.defineProperty;var C=(o,t,a)=>t in o?k(o,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[t]=a;var h=(o,t,a)=>C(o,typeof t!="symbol"?t+"":t,a);import{a as A}from"./_plugin-vue_export-helper-D3a9Murb.js";import{o as y,c as x,a as e,A as b,x as _,d as O,g as w,y as j,t as i,e as f,F as P,r as B,f as $,B as m}from"./index-L9FfN0sg.js";import{f as g}from"./formatCurrency-BY4vl4in.js";const D={},I={class:"animate-pulse"};function U(o,t){return y(),x("div",I,t[0]||(t[0]=[e("div",{class:"bg-gray-100 h-32 p-2 rounded"},[e("div",{class:"max-w-44 h-4 my-4 bg-gray-200 rounded"}),e("div",{class:"max-w-44 h-4 bg-gray-200 rounded"})],-1)]))}const de=A(D,[["render",U]]);class z{constructor(){h(this,"httpClient");this.httpClient=new b}async findAll(t){try{return this.httpClient.post("/api/position/getMany",t)}catch(a){throw console.log(a),a}}async findOne(t){try{return this.httpClient.post("/api/position/getOne",t)}catch(a){throw console.log(a),a}}}const ue=_("areaPosition",()=>{const o=new z;async function t(l){try{const n=await o.findAll(l);return n.status===400?{data:null,success:!1}:(console.log(n),{data:n,success:!0})}catch{return{data:null,success:!1}}}async function a(l){try{return{data:await o.findOne(l),success:!0}}catch{return{data:null,success:!1}}}return{getAll:t,getOne:a}});class E{constructor(){h(this,"httpClient");this.httpClient=new b}async getCurrency(t="AOA"){try{return await this.httpClient.get(`https://v6.exchangerate-api.com/v6/5947ba66872e2aca2351805a/latest/${t}`)}catch(a){throw console.log(a),a}}}const F=_("currency",()=>{const o=new E;async function t(a,l=0,n,r){try{const d=await o.getCurrency(n);if(n!=="AOA"&&r==="AOA")return{value:a,from:n,currency:r};if(d.conversion_rates){const p=d.conversion_rates;if(p[r])return{value:l*p[r],from:n,currency:r}}return{error:"Ocorreu um erro ao converter"}}catch(d){return{error:"Ocorreu um erro ao converter"+d}}}return{convertCurrency:t}}),M={class:"border shadow p-5 rounded mt-3"},N={class:"text-[#595959] font-bold dark:text-gray-200"},R={class:""},V={class:"flex justify-between items-center"},K={class:"flex justify-between gap-2 items-center"},H={class:"relative"},L={class:"flex items-center gap-2"},T={class:"inline text-sm md:text-base dark:text-white"},q={key:0,class:"absolute left-0 z-10 mt-2 w-full bg-white border border-gray-300 rounded-lg shadow-lg"},G=["onClick"],J={class:"text-sm md:text-base dark:text-white"},Q={class:""},W={class:""},X={class:"flex md:justify-start justify-between lg:gap-3 flex-wrap"},Y={class:"flex items-center justify-between gap-3 md:flex-col md:gap-0 md:items-start flex-row"},Z={class:"font-bold xl:text-lg dark:text-white"},ee={class:"flex items-center justify-between gap-3 md:flex-col md:gap-0 md:items-start flex-row dark:text-white"},te={class:"font-bold xl:text-lg"},se={class:"flex justify-between flex-wrap border-t-2 pt-2 mt-2 items-center"},ae={class:""},re={class:"font-bold text-md dark:text-white"},oe={class:"bg-gray-200 py-1 px-2 rounded-xl text-sm inline-block mt-2"},pe=O({__name:"ItemSalaryOverview",props:{position:{}},setup(o){const t=o,a=w(!1),l=j({code:"AOA",label:"AOA",simbol:"Kz"}),n=F(),r=w({lowestSalary:t.position.salary.lowestSalary,average:t.position.salary.average||0,highestSalary:t.position.salary.highestSalary}),d=[{code:"AOA",label:"AOA",simbol:"Kz"},{code:"EUR",label:"EUR",simbol:"€"},{code:"USD",label:"USD",simbol:"$"}];async function p(c){try{const s=await n.convertCurrency(t.position.salary.lowestSalary,r.value.lowestSalary,l.code,c),u=await n.convertCurrency(t.position.salary.average||0,r.value.average,l.code,c),v=await n.convertCurrency(t.position.salary.highestSalary,r.value.highestSalary,l.code,c);s.value&&u.value&&v.value&&(r.value.lowestSalary=s.value,r.value.average=u.value,r.value.highestSalary=v.value),Object.assign(l,d.find(S=>S.code===c)),a.value=!1}catch(s){console.log(s)}}return(c,s)=>(y(),x("div",M,[e("p",N,i(c.position.title),1),e("div",R,[e("div",V,[s[3]||(s[3]=e("div",{class:""},[e("p",{class:"font-light text-sm flex items-center gap-2 dark:text-white"},[e("i",{class:"bx bx-money"}),f(" Intervalo Salarial ")])],-1)),e("div",K,[s[2]||(s[2]=e("i",{class:"bx bx-coin text-2xl dark:text-white"},null,-1)),e("div",H,[e("button",{onClick:s[0]||(s[0]=u=>a.value=!a.value),class:"w-full flex items-center justify-between p-2 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-[#003F72] focus:border-transparent border-2"},[e("div",L,[e("span",T,i(l.code),1)]),s[1]||(s[1]=e("svg",{class:"w-4 h-4 dark:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1))]),a.value?(y(),x("ul",q,[(y(),x(P,null,B(d,u=>e("li",{key:u.code,onClick:v=>p(u.code),class:"flex items-center gap-2 px-4 py-2 hover:bg-gray-100 hover:rounded-lg cursor-pointer dark:text-white"},[e("span",J,i(u.label),1)],8,G)),64))])):$("",!0)])])]),e("div",Q,[e("div",W,[e("div",X,[e("div",Y,[e("p",Z,i(l.simbol)+" "+i(m(g)(r.value.highestSalary?r.value.highestSalary:0,{decimalPlaces:2,currency:!0,decimal:!0})),1),s[4]||(s[4]=e("span",{class:"text-sm flex mx-auto items-center dark:text-white"},[e("i",{class:"bx bx-down-arrow-alt text-red-500 text-lg"}),f("Sálario Baixo ")],-1))]),s[6]||(s[6]=e("span",{class:"font-bold xl:text-lg 2xl:inline hidden dark:text-white"},"-",-1)),e("div",ee,[e("p",te,i(l.simbol)+" "+i(m(g)(r.value.highestSalary?r.value.highestSalary:0,{decimalPlaces:2,currency:!0,decimal:!0})),1),s[5]||(s[5]=e("span",{class:"text-sm flex mx-auto items-center dark:text-white"},[e("i",{class:"bx bx-up-arrow-alt text-green-500 text-lg"}),f("Sálario Alto ")],-1))])])])])]),e("div",se,[e("div",ae,[s[7]||(s[7]=e("p",{class:"text-sm underline mr-2 dark:text-white"},"Salario Médio",-1)),e("p",re,i(l.simbol)+" "+i(m(g)(r.value.average?r.value.average:0,{decimalPlaces:2,currency:!0,decimal:!0})),1)]),e("p",oe,i(c.position.salary.numberOfReviews)+" salarios reportados ",1)]),s[8]||(s[8]=e("div",{class:"flex justify-end"},null,-1))]))}});export{de as I,pe as _,ue as a,F as u};
