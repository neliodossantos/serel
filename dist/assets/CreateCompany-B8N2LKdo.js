var z=Object.defineProperty;var A=(g,r,u)=>r in g?z(g,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):g[r]=u;var S=(g,r,u)=>A(g,typeof r!="symbol"?r+"":r,u);import{_ as E}from"./logo_alternativo_serel-BLc9dKR8.js";import{M as N}from"./MainLayout-vbuhhaMz.js";import{P as j}from"./PreloaderComponent-CBkDSBTt.js";import{A as q,x as T,d as M,g as y,y as V,w as m,o as l,c as d,a as s,n as U,p as x,v as b,t as n,f as i,j as _,q as $,e as B,F as L,s as P,i as I,l as R}from"./index-L9FfN0sg.js";import{u as O}from"./companies-DLa6_4Al.js";import{_ as W,v as p,u as H,a as G}from"./_plugin-vue_export-helper-D3a9Murb.js";import{_ as J}from"./DatePickerComponent.vue_vue_type_script_setup_true_lang-CYlXeDCp.js";import{f as K}from"./formatDate-IHIQYvFe.js";import"./useTheme-8FjXQqbL.js";import"./logo-DvPXu7Y6.js";class Q{constructor(){S(this,"httpClient");this.httpClient=new q}async uploadFile(r,u){return await this.httpClient.post(`/api/company/upload/${r}`,u,{headers:{"Content-Type":"multipart/form-data"}})}}const X=T("uploadStore",()=>{const g=new Q;async function r(u,D){var f,c;try{const v=new FormData;v.append("logo",D);const w=await g.uploadFile(u,v);return{message:"Upload feito com sucesso!",success:!0}}catch(v){return{message:((c=(f=v.response)==null?void 0:f.data)==null?void 0:c.error)||"Ocorreu um erro!",success:!1}}}return{upload:r}}),Y={class:"py-5"},Z={class:""},ee={key:0,class:"text-red-400 mt-1"},se={class:""},te={key:0,class:"text-red-400 mt-1"},oe={class:""},ae={class:"flex justify-between gap-4"},le={class:"flex-1"},de={key:0,class:"text-red-400 mt-1"},re={class:"flex-1"},ne={key:0,class:"text-red-400 mt-1"},ie={class:""},ue={key:0,class:"text-red-400 mt-1"},me={class:""},pe={key:0,class:"text-red-400 mt-1"},ce={class:""},fe={key:0,class:"text-red-400 mt-1"},xe={class:""},be={class:"w-full relative"},ge={key:0,class:"text-red-400 mt-1"},ve={class:""},De={class:"flex flex-wrap justify-between gap-4"},ye={class:"flex-1"},we={key:0,class:"text-red-400 mt-1"},he={class:"flex-1"},_e={key:0,class:"text-red-400 mt-1"},Fe={class:""},ke={key:0,class:"text-red-400 mt-1"},Ce={class:""},Se={key:0,class:"text-red-400 mt-1"},Ve={class:""},Ue={key:0,class:"text-red-400 mt-1"},Ie={class:"mt-6 w-full"},Me=["disabled"],ze={key:0,class:"animate-spin rounded-full h-4 w-4 border-t-4 border-blue-500 border-solid"},Ae=M({__name:"CreateCompanyFormComponent",emits:["toggleSuccessRequest"],setup(g,{emit:r}){const u=r,D=H(),f=y(!1);O();const c=y(null),v=y(null);X();const w=h=>{t.foundedIn=K.getDate(h)},t=V({name:"",address:{city:"",country:""},nif:"",sector:"",foundedIn:"",phone:"",email:"",logo:"",size:{min:null,max:null},website:"",description:""}),o=V({name:{message:"",valid:!0},city:{message:"",valid:!0},country:{message:"",valid:!0},nif:{message:"",valid:!0},sector:{message:"",valid:!0},foundedIn:{message:"",valid:!0},phone:{message:"",valid:!0},email:{message:"",valid:!0},logo:{message:"",valid:!0},min:{message:"",valid:!0},max:{message:"",valid:!0},website:{message:"",valid:!0},description:{message:"",valid:!0}});m(()=>t.name,()=>{o.name=p.validateCompanyName(t.name)},{deep:!0}),m(()=>t.address.city,()=>{o.city=p.validateField(t.address.city,"Cidade")},{deep:!0}),m(()=>t.address.country,()=>{o.country=p.validateField(t.address.country,"Páis")},{deep:!0}),m(()=>t.nif,()=>{o.nif=p.validateNIF(t.nif)},{deep:!0}),m(()=>t.sector,()=>{o.sector=p.validateField(t.sector,"Sector")},{deep:!0}),m(()=>t.foundedIn,()=>{o.foundedIn=p.validateField(t.foundedIn,"Data de Fundação")},{deep:!0}),m(()=>t.phone,()=>{o.phone=p.validatePhone(t.phone)},{deep:!0}),m(()=>t.email,()=>{o.email=p.validateEmail(t.email)},{deep:!0}),m(()=>t.logo,()=>{o.logo=p.validateField(t.logo,"Logo")},{deep:!0}),m(()=>t.size.min,()=>{o.min=p.validateField(t.size.min,"Tamanho Mínimo da Empresa")},{deep:!0}),m(()=>t.size.max,()=>{o.max=p.validateField(t.size.max,"Tamanho Máximo da Empresa")},{deep:!0}),m(()=>t.website,()=>{o.website=p.validateField(t.website,"Website")},{deep:!0}),m(()=>t.description,()=>{o.description=p.validateField(t.description,"Descrição")},{deep:!0});const F=async()=>{try{u("toggleSuccessRequest",!0)}catch{D.error("Ocorreu um erro!")}finally{f.value=!1}};return(h,e)=>(l(),d(L,null,[s("form",{onSubmit:U(F,["prevent"])},[s("div",Y,[e[29]||(e[29]=s("h2",{class:"md:text-2xl max-w-[800px] text-lg mb-6"},"Informe as informações da empresa onde trabalhas ou trabalhavas",-1)),s("div",{onSubmit:U(F,["prevent"]),class:"md:rounded-lg md:border-2 md:border-[#C3C6E5] flex flex-col gap-12 md:px-8 md:py-10"},[s("div",Z,[e[13]||(e[13]=s("h3",{class:"font-bold text-md sm:text-lg mb-2"},"Nome",-1)),x(s("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>t.name=a),placeholder:"Digite o nome...",class:"w-full rounded-md border border-[#D4D2D0] p-3 focus:outline-none focus:ring-2 focus:ring-[#003F72] focus:border-transparent"},null,512),[[b,t.name]]),o.name.valid?i("",!0):(l(),d("span",ee,n(o.name.message),1))]),s("div",se,[e[14]||(e[14]=s("h3",{class:"font-bold text-md sm:text-lg mb-2"},"Número de identificação fiscal",-1)),x(s("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>t.nif=a),placeholder:"Digite o nif da empresa...",class:"w-full rounded-md border border-[#D4D2D0] p-3 focus:outline-none focus:ring-2 focus:ring-[#003F72] focus:border-transparent"},null,512),[[b,t.nif]]),o.nif.valid?i("",!0):(l(),d("span",te,n(o.nif.message),1))]),s("div",oe,[e[17]||(e[17]=s("h3",{class:"font-bold text-md sm:text-lg mb-2"},"Endereço",-1)),s("div",ae,[s("div",le,[e[15]||(e[15]=s("h3",{class:"font-bold text-md mb-2"},"Cidade",-1)),x(s("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>t.address.city=a),placeholder:"Digite a cidade...",class:"w-full rounded-md border border-[#D4D2D0] p-3 focus:outline-none focus:ring-2 focus:ring-[#003F72] focus:border-transparent"},null,512),[[b,t.address.city]]),o.city.valid?i("",!0):(l(),d("span",de,n(o.city.message),1))]),s("div",re,[e[16]||(e[16]=s("h3",{class:"font-bold text-md mb-2"},"Páis",-1)),x(s("input",{"onUpdate:modelValue":e[3]||(e[3]=a=>t.address.country=a),placeholder:"Digite o país...",class:"w-full rounded-md border border-[#D4D2D0] p-3 focus:outline-none focus:ring-2 focus:ring-[#003F72] focus:border-transparent"},null,512),[[b,t.address.country]]),o.country.valid?i("",!0):(l(),d("span",ne,n(o.country.message),1))])])]),s("div",ie,[e[18]||(e[18]=s("h3",{class:"font-bold text-md sm:text-lg mb-2"},"Sector",-1)),x(s("input",{"onUpdate:modelValue":e[4]||(e[4]=a=>t.sector=a),placeholder:"Digite o sector...",class:"w-full rounded-md border border-[#D4D2D0] p-3 focus:outline-none focus:ring-2 focus:ring-[#003F72] focus:border-transparent"},null,512),[[b,t.sector]]),o.sector.valid?i("",!0):(l(),d("span",ue,n(o.sector.message),1))]),s("div",me,[e[19]||(e[19]=s("h3",{class:"font-bold text-md sm:text-lg mb-2"},"Email",-1)),x(s("input",{"onUpdate:modelValue":e[5]||(e[5]=a=>t.email=a),placeholder:"Digite o email...",class:"w-full rounded-md border border-[#D4D2D0] p-3 focus:outline-none focus:ring-2 focus:ring-[#003F72] focus:border-transparent"},null,512),[[b,t.email]]),o.email.valid?i("",!0):(l(),d("span",pe,n(o.email.message),1))]),s("div",ce,[e[20]||(e[20]=s("h3",{class:"font-bold text-md sm:text-lg mb-2"},"Numero de Telefone",-1)),x(s("input",{"onUpdate:modelValue":e[6]||(e[6]=a=>t.phone=a),placeholder:"Digite o numero de telefone...",class:"w-full rounded-md border border-[#D4D2D0] p-3 focus:outline-none focus:ring-2 focus:ring-[#003F72] focus:border-transparent"},null,512),[[b,t.phone]]),o.phone.valid?i("",!0):(l(),d("span",fe,n(o.phone.message),1))]),s("div",xe,[e[22]||(e[22]=s("h3",{class:"font-bold text-md sm:text-lg mb-2"},"Fundada em",-1)),s("div",be,[_(J,{modelValue:c.value,"onUpdate:modelValue":e[7]||(e[7]=a=>c.value=a),placeholder:"Data de Fundação",onDateSelect:w},null,8,["modelValue"]),e[21]||(e[21]=s("div",{class:"absolute right-3 bottom-3 flex items-center pointer-events-none"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-6 w-6 text-[#D4D2D0] font-bold"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"})])],-1))]),o.foundedIn.valid?i("",!0):(l(),d("span",ge,n(o.foundedIn.message),1))]),s("div",ve,[e[25]||(e[25]=s("h3",{class:"font-bold text-md sm:text-lg mb-2"},"Tamanho da Empresa",-1)),s("div",De,[s("div",ye,[e[23]||(e[23]=s("h3",{class:"font-bold text-md mb-2"},"Mínimo",-1)),x(s("input",{"onUpdate:modelValue":e[8]||(e[8]=a=>t.size.min=a),placeholder:"Digite o mínimo...",class:"w-full rounded-md border border-[#D4D2D0] p-3 focus:outline-none focus:ring-2 focus:ring-[#003F72] focus:border-transparent"},null,512),[[b,t.size.min]]),o.min.valid?i("",!0):(l(),d("span",we,n(o.min.message),1))]),s("div",he,[e[24]||(e[24]=s("h3",{class:"font-bold text-md mb-2"},"Máximo",-1)),x(s("input",{"onUpdate:modelValue":e[9]||(e[9]=a=>t.size.max=a),placeholder:"Digite o máximo...",class:"w-full rounded-md border border-[#D4D2D0] p-3 focus:outline-none focus:ring-2 focus:ring-[#003F72] focus:border-transparent"},null,512),[[b,t.size.max]]),o.max.valid?i("",!0):(l(),d("span",_e,n(o.max.message),1))])])]),s("div",Fe,[e[26]||(e[26]=s("h3",{class:"font-bold text-md sm:text-lg mb-2"},"WebSite",-1)),x(s("input",{"onUpdate:modelValue":e[10]||(e[10]=a=>t.website=a),placeholder:"Digite o website...",class:"w-full rounded-md border border-[#D4D2D0] p-3 focus:outline-none focus:ring-2 focus:ring-[#003F72] focus:border-transparent"},null,512),[[b,t.website]]),o.website.valid?i("",!0):(l(),d("span",ke,n(o.website.message),1))]),s("div",Ce,[e[27]||(e[27]=s("h3",{class:"font-bold text-md sm:text-lg mb-2"},"Descrição",-1)),x(s("textarea",{"onUpdate:modelValue":e[11]||(e[11]=a=>t.description=a),placeholder:"Escreva sua avaliação detalhada aqui...",class:"w-full rounded-md border border-[#D4D2D0] p-3 focus:outline-none focus:ring-2 focus:ring-[#003F72] focus:border-transparent"},null,512),[[b,t.description]]),o.description.valid?i("",!0):(l(),d("span",Se,n(o.description.message),1))]),s("div",Ve,[e[28]||(e[28]=s("h3",{class:"font-bold text-md sm:text-lg mb-2"},"Logo",-1)),s("input",{type:"file",accept:"image/*",onChange:e[12]||(e[12]=a=>{var k,C;v.value=((k=a.target.files)==null?void 0:k[0])||null,t.logo=((C=v.value)==null?void 0:C.name)||null}),class:"w-full rounded-md border border-[#D4D2D0] p-3 focus:outline-none focus:ring-2 focus:ring-[#003F72] focus:border-transparent"},null,32),o.logo.valid?i("",!0):(l(),d("span",Ue,n(o.logo.message),1))]),s("div",Ie,[s("button",{type:"submit",class:$(["flex items-center gap-3 justify-center mt-3 bg-[#003F72] text-white w-full py-[10px] px-[20px] rounded-md font-bold",{disable:f.value}]),disabled:f.value},[B(n(f.value?"Processando...":"Confirmar")+" ",1),f.value?(l(),d("div",ze)):i("",!0)],10,Me)])],32)])],32),_(W)],64))}}),Ee=G(Ae,[["__scopeId","data-v-0a67a4ea"]]),Ne={key:0,class:"w-full h-screen flex items-center justify-center"},je={key:1,class:""},qe={class:"w-full mb-24 px-[12%]"},Te={class:"mx-auto relative max-w-[400px] sm:max-w-[600px] md:max-w-[900px]"},Qe=M({__name:"CreateCompany",setup(g){const r=y(!1),u=y(!1);function D(f){u.value=f}return(f,c)=>u.value?(l(),d("div",je,[r.value?(l(),I(j,{key:0})):(l(),I(N,{key:1},{default:R(()=>[c[2]||(c[2]=s("div",{class:"w-full bg-[#F8FAFB] min-h-[210px] mb-24 flex justify-center border-b border-[#D4D2D0] px-[12%]"},null,-1)),s("div",qe,[s("div",Te,[c[1]||(c[1]=s("a",{class:"left-30 max-w-[150px] h-[150px] block -top-[11rem] md:-top-44 absolute cursor-pointer",href:"/public"},[s("img",{class:"max-w-[150px] max-h-40 object-cover rounded block",src:E,alt:"Logo da empresa Serel"})],-1)),_(Ee,{onToggleSuccessRequest:D})])])]),_:1}))])):(l(),d("div",Ne,c[0]||(c[0]=[P('<div class="p-5 md:p-0 md:max-w-2xl flex flex-col gap-5"><h2 class="text-3xl md:text-4xl font-bold"><i class="bx bxs-check-circle text-[#003F72] animate-bounce text-5xl"></i> Empresa foi adicionada com sucesso! </h2><p class="text-xl md:text-2xl">A empresa adicionada será analisada pela nossa equipe. Assim que for aprovada, receberá um email e ela ficará visível para os outros usuários. 😊</p><div><a href="/public" class="flex items-center gap-2 justify-center w-64 hover:bg-[#003F72] hover:text-white border-2 border-[#003F72] p-2 rounded-md text-md md:text-xl"><i class="bx bx-left-arrow-alt text-xl"></i> Ir para pagina Inicial </a></div></div>',1)])))}});export{Qe as default};
