import{d as S,b as F,g as y,o as l,c as d,a as t,G as K,F as h,r as w,E as G,e as $,t as r,q as W,f as E,i as D,H as N,l as T,m as z,h as L,j as C,B as j,y as P,u as X,_ as H,k as J}from"./index-L9FfN0sg.js";import{u as Q}from"./reviews-BpF1Jmuz.js";import{f as A}from"./formatDate-IHIQYvFe.js";import{u as Z,a as tt,I as et,_ as st}from"./ItemSalaryOverview.vue_vue_type_script_setup_true_lang-CKsGcg6F.js";import{f as R}from"./formatCurrency-BY4vl4in.js";import{M as at}from"./MainLayout-vbuhhaMz.js";import{_ as ot}from"./ListRelatedCompaniesComponent.vue_vue_type_script_setup_true_lang-Bofv6PBl.js";import{u as lt}from"./companies-DLa6_4Al.js";import{P as rt}from"./PreloaderComponent-CBkDSBTt.js";import{M as nt}from"./ModalComponent-CF4lxKtQ.js";import{E as it}from"./ErrorReconnectComponent-BcWJmWIW.js";import"./_plugin-vue_export-helper-D3a9Murb.js";import"./useTheme-8FjXQqbL.js";import"./logo-DvPXu7Y6.js";import"./ItemCompanySkeleton-oU3BAync.js";const dt="/assets/367ca6d2f0870793255c56ac75551e5d-IobWXTeO.png",ct={class:"relative w-full max-w-4xl mx-auto"},xt={class:"overflow-hidden relative"},mt={class:"flex justify-center mt-4 space-x-2"},ut=["onClick"],U=S({__name:"Carousel",props:{items:{default:()=>[]}},setup(k){const m=k,o=F(()=>m.items.length),x=y(0),s=()=>{x.value=(x.value+1)%o.value},i=()=>{x.value=(x.value-1+o.value)%o.value},v=c=>{x.value=c};return(c,a)=>(l(),d("div",ct,[t("div",xt,[t("div",{class:"flex transition-transform duration-500 ease-in-out",style:K({transform:`translateX(-${x.value*100}%)`})},[(l(!0),d(h,null,w(o.value,(e,n)=>(l(),d("div",{key:n,class:"flex-shrink-0 w-full"},[G(c.$slots,`slide-${n}`,{item:c.items[n]},()=>[$(" Slide "+r(n+1)+" (Conteúdo padrão) ",1)])]))),128))],4)]),t("div",{class:"absolute top-1/2 transform -translate-y-1/2 w-full flex justify-between gap-1 px-1"},[t("button",{onClick:i,class:"bg-[#003F72] text-white w-7 h-7 text-sm rounded-full shadow hover:bg-blue-500 transition"},a[0]||(a[0]=[t("i",{class:"bx bx-left-arrow-alt"},null,-1)])),t("button",{onClick:s,class:"bg-[#003F72] w-7 h-7 text-sm text-white rounded-full shadow hover:bg-blue-500 transition"},a[1]||(a[1]=[t("i",{class:"bx bx-right-arrow-alt"},null,-1)]))]),t("div",mt,[(l(!0),d(h,null,w(o.value,(e,n)=>(l(),d("button",{key:n,onClick:u=>v(n),class:W(["w-3 h-3 rounded-full",[x.value===n?"bg-blue-500":"bg-gray-300 hover:bg-gray-400"]])},null,10,ut))),128))])]))}}),Y="/assets/avatar-CLw-uKtV.png",pt={class:"mb-16 md:block hidden"},vt={class:"flex gap-4"},ht={class:""},ft={class:"text-[#767676] font-bold dark:text-gray-200"},gt={class:"text-lg font-bold dark:text-gray-200"},_t={class:"text-md text-[#767676] dark:text-gray-200"},yt={class:"mt-4"},wt={class:"text-[#2D2D2D] text-lg font-bold lg:w-[630px] xl:max-w-[800px] dark:text-gray-200"},bt={class:"w-full"},$t={class:"w-full"},kt={class:"lg:max-w-[60%] xs:text-base max-w-full break-words dark:text-gray-300"},Ct=S({__name:"ItemOverviewReviews",props:{review:{}},setup(k){const m=k,o=F(()=>A.getDay(m.review.createdAt)),x=F(()=>A.getMonth(m.review.createdAt)),s=F(()=>A.getYear(m.review.createdAt)),i=c=>{const a=c.split(" ");return a.length>20?{truncated:a.slice(0,20).join(" "),isTruncated:!0}:{truncated:c,isTruncated:!1}},v=c=>{window.location.href=`/overview/review/details/${c}`};return(c,a)=>{var e,n;return l(),d("div",pt,[t("div",vt,[a[2]||(a[2]=t("div",{class:"z-10 w-10 h-10 md:w-12 md:h-12"},[t("img",{src:Y,alt:""})],-1)),t("div",ht,[t("p",ft,r(c.review.jobTitle)+" "+r(c.review.employeeType==="Ex-employee"?"(Ex-Funcionário)":"(Funcionário actual)"),1),t("span",gt,[$(r(c.review.score)+",0 ",1),a[1]||(a[1]=t("i",{class:"bx bxs-star text-[#003F72]"},null,-1))]),t("span",_t," em "+r(o.value)+" de "+r(x.value)+" de "+r(s.value),1)])]),t("div",yt,[t("h3",wt,r(c.review.reviewTitle),1),t("div",bt,[t("div",$t,[t("p",kt,[$(r(i(((e=c.review.comment)==null?void 0:e.comment)||"").truncated)+" ",1),i(((n=c.review.comment)==null?void 0:n.comment)||"").isTruncated?(l(),d("span",{key:0,onClick:a[0]||(a[0]=u=>v(c.review.id)),class:"text-[#003f72] underline cursor-pointer dark:text-blue-500"}," saiba mais... ")):E("",!0)])])])])])}}}),St={class:"border w-full py-5 h-80 rounded-md px-8 xxs:px-6"},Dt={class:"flex gap-4"},Ft={class:""},jt={class:"text-[#767676] xxs:text-sm font-bold dark:text-gray-300"},At={class:"xxs:text-sm text-md text-[#767676] dark:text-gray-200"},Et={class:"flex gap-1 items-center"},Mt={class:"text-lg font-bold dark:text-gray-300"},Ot={class:"flex gap-1 items-center"},It={key:0,class:"bx bxs-star-half text-[#003F72] xxs:text-md text-lg 3xl:text-2xl"},Tt={class:"xs:mt-2 mt-4"},Rt={class:"px-2 text-[#2D2D2D] xxs:text-sm xs:text-base text-lg font-bold lg:w-[630px] xl:max-w-[800px] dark:text-gray-300"},zt={class:"w-full px-2"},Lt={class:"lg:max-w-[60%] xs:text-base max-w-full break-words dark:text-gray-300"},Pt=["onClick"],qt=S({__name:"ItemCarouselOverviewReviews",props:{reviews:{}},setup(k){const m=e=>A.getDay(e),o=e=>A.getMonth(e),x=e=>A.getYear(e),s=e=>Math.floor(e??0),i=e=>(e??0)%1>=.5,v=e=>{const n=s(e),u=i(e)?1:0;return 5-n-u},c=e=>{const n=e.split(" ");return n.length>15?{truncated:n.slice(0,15).join(" "),isTruncated:!0}:{truncated:e,isTruncated:!1}},a=e=>{window.location.href=`/overview/review/details/${e}`};return(e,n)=>(l(),D(U,{class:"md:hidden block",items:e.reviews},N({_:2},[w(e.reviews,(u,f)=>({name:`slide-${f}`,fn:T(({item:g})=>{var p,b;return[t("div",St,[t("div",Dt,[n[0]||(n[0]=t("img",{class:"xs:w-8 xs:h-8 w-12 h-12",src:Y,alt:""},null,-1)),t("div",Ft,[t("p",jt,r(u.jobTitle)+" "+r(u.employeeType==="Ex-employee"?"(Ex-Funcionário)":"(Funcionário actual)"),1),t("span",At," em "+r(m(u.createdAt))+" de "+r(o(u.createdAt))+" de "+r(x(u.createdAt)),1)])]),t("div",Et,[t("span",Mt,r(u.score)+",0 ",1),t("div",Ot,[(l(!0),d(h,null,w(s(u.score),_=>(l(),d("i",{key:"filled-"+_,class:"bx bxs-star xxs:text-md text-lg 3xl:text-2xl text-[#003F72]"}))),128)),i(u.score)?(l(),d("i",It)):E("",!0),(l(!0),d(h,null,w(v(u.score),_=>(l(),d("i",{key:"empty-"+_,class:"bx bx-star xxs:text-md text-lg 3xl:text-2xl text-[#003F72]"}))),128))])]),t("div",Tt,[t("h3",Rt,r(u.reviewTitle),1),t("div",zt,[t("p",Lt,[$(r(c(((p=u.comment)==null?void 0:p.comment)||"").truncated)+" ",1),c(((b=u.comment)==null?void 0:b.comment)||"").isTruncated?(l(),d("span",{key:0,onClick:_=>a(u.id),class:"text-[#003f72] underline cursor-pointer dark:text-blue-500"}," saiba mais... ",8,Pt)):E("",!0)])])])])]})}))]),1032,["items"]))}}),Bt={key:0,class:"mt-5 md:mt-10"},Vt={class:"my-6"},Ht=["href"],Nt={key:1,class:"mt-5"},Ut={class:"py-10"},Yt={class:"flex flex-col justify-center items-center gap-1"},Kt={class:"text-md text-gray-500 text-center dark:text-gray-200"},Gt=["href"],Wt=S({__name:"OverviewReviews",props:{currentCompany:{}},setup(k){const o=z().params.companyId,x=k,s=y(!1),i=Q(),v=y([]),c=y(!1);return L(async()=>{try{s.value=!0;const a={filter:{companyId:x.currentCompany.id,status:"published"},page:1,limit:3},e=await i.getAll(a);e.data?v.value=e.data.reviews:c.value=!0}catch(a){console.log(a)}finally{s.value=!1}}),(a,e)=>!s.value&&!c.value?(l(),d("div",Bt,[(l(!0),d(h,null,w(v.value,n=>(l(),D(Ct,{key:n.id,review:n},null,8,["review"]))),128)),C(qt,{reviews:v.value},null,8,["reviews"]),t("div",Vt,[t("a",{class:"flex items-center mt-4 text-[#003F72] font-bold text-blue-500",href:`/reviews/company/${j(o)}`},e[0]||(e[0]=[$("Ver todas as avaliações "),t("i",{class:"bx bx-chevron-right text-2xl text-black dark:text-white"},null,-1)]),8,Ht)])])):!s.value&&c.value?(l(),d("div",Nt,[t("div",Ut,[e[3]||(e[3]=t("div",{class:"flex mb-3 items-center justify-center"},[t("svg",{class:"dark:text-white",fill:"currentColor",height:"60",width:"60",version:"1.1",id:"Icons",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32","xml:space":"preserve"},[t("path",{d:`M27,5H5C3.3,5,2,6.3,2,8v14c0,1.7,1.3,3,3,3h16.4l7,5.8c0.2,0.2,0.4,0.2,0.6,0.2c0.1,0,0.3,0,0.4-0.1
          c0.4-0.2,0.6-0.5,0.6-0.9V8C30,6.3,28.7,5,27,5z M17.7,14.3l-2.1,2.1l0.5,2.9c0.1,0.4-0.1,0.8-0.4,1c-0.2,0.1-0.4,0.2-0.6,0.2
          c-0.2,0-0.3,0-0.5-0.1L12,18.9l-2.6,1.4c-0.3,0.2-0.7,0.2-1.1-0.1c-0.3-0.2-0.5-0.6-0.4-1l0.5-2.9l-2.1-2.1C6,14,5.9,13.6,6,13.3
          c0.1-0.4,0.4-0.6,0.8-0.7l2.9-0.4l1.3-2.7c0.3-0.7,1.5-0.7,1.8,0l1.3,2.7l2.9,0.4c0.4,0.1,0.7,0.3,0.8,0.7
          C18.1,13.6,18,14,17.7,14.3z M25,18h-3c-0.6,0-1-0.4-1-1s0.4-1,1-1h3c0.6,0,1,0.4,1,1S25.6,18,25,18z M25,14h-5c-0.6,0-1-0.4-1-1
          s0.4-1,1-1h5c0.6,0,1,0.4,1,1S25.6,14,25,14z`})])],-1)),t("div",Yt,[e[2]||(e[2]=t("h1",{class:"font-bold text-xl text-center dark:text-white"},"Esta empresa ainda não foi avaliada",-1)),t("p",Kt,[e[1]||(e[1]=$("Seja o primeiro avaliar a empresa, clique para ")),t("a",{href:`/company/${j(o)}/review`,class:"text-[#003F72] underline text-md dark:text-blue-500"},"avaliar",8,Gt)])])])])):E("",!0)}}),Xt={class:"border shadow px-8 py-5 rounded mt-3"},Jt={class:"text-[#595959] font-bold dark:text-gray-200"},Qt={class:""},Zt={class:"flex justify-between items-center flex-wrap xs:mb-1"},te={class:"flex justify-between gap-2 items-center"},ee={class:"relative"},se={class:"flex items-center gap-2"},ae={class:"inline text-sm md:text-base dark:text-white"},oe={key:0,class:"absolute left-0 z-10 mt-2 w-full bg-white border border-gray-300 rounded-lg shadow-lg"},le=["onClick"],re={class:"text-sm md:text-base dark:text-white"},ne={class:""},ie={class:""},de={class:"flex justify-between gap-3 xs:gap-0 xs:pb-1 flex-wrap"},ce={class:"flex items-center gap-1"},xe={class:"font-bold xl:text-lg dark:text-white"},me={class:"flex items-center gap-1 dark:text-white"},ue={class:"font-bold xl:text-lg"},pe={class:"flex justify-between flex-wrap border-t-2 pt-2 mt-2 items-center"},ve={class:""},he={class:"font-bold text-md dark:text-white"},fe={class:"bg-gray-200 py-1 px-2 rounded-xl text-sm inline-block mt-2"},ge=S({__name:"ItemCarouselSalaryOverview",props:{position:{}},setup(k){const m=k,o=y(!1),x=P({code:"AOA",label:"AOA",simbol:"Kz"}),s=Z(),i=y({lowestSalary:m.position.salary.lowestSalary,average:m.position.salary.average||0,highestSalary:m.position.salary.highestSalary}),v=[{code:"AOA",label:"AOA",simbol:"Kz"},{code:"EUR",label:"EUR",simbol:"€"},{code:"USD",label:"USD",simbol:"$"}];async function c(a){try{const e=await s.convertCurrency(m.position.salary.lowestSalary,i.value.lowestSalary,x.code,a),n=await s.convertCurrency(m.position.salary.average||0,i.value.average,x.code,a),u=await s.convertCurrency(m.position.salary.highestSalary,i.value.highestSalary,x.code,a);e.value&&n.value&&u.value&&(i.value.lowestSalary=e.value,i.value.average=n.value,i.value.highestSalary=u.value),Object.assign(x,v.find(f=>f.code===a)),o.value=!1}catch(e){console.log(e)}}return(a,e)=>(l(),d("div",Xt,[t("p",Jt,r(a.position.title),1),t("div",Qt,[t("div",Zt,[e[3]||(e[3]=t("div",{class:""},[t("p",{class:"font-light text-sm flex items-center gap-2 dark:text-white"},[t("i",{class:"bx bx-money dark:text-white"}),$(" Intervalo Salarial ")])],-1)),t("div",te,[e[2]||(e[2]=t("i",{class:"bx bx-coin text-2xl dark:text-white"},null,-1)),t("div",ee,[t("button",{onClick:e[0]||(e[0]=n=>o.value=!o.value),class:"w-full flex items-center justify-between p-2 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-[#003F72] focus:border-transparent border-2"},[t("div",se,[t("span",ae,r(x.code),1)]),e[1]||(e[1]=t("svg",{class:"w-4 h-4 dark:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1))]),o.value?(l(),d("ul",oe,[(l(),d(h,null,w(v,n=>t("li",{key:n.code,onClick:u=>c(n.code),class:"flex items-center gap-2 px-4 py-2 hover:bg-gray-100 hover:rounded-lg cursor-pointer dark:text-white"},[t("span",re,r(n.label),1)],8,le)),64))])):E("",!0)])])]),t("div",ne,[t("div",ie,[t("div",de,[t("div",ce,[e[4]||(e[4]=t("i",{class:"bx bx-down-arrow-alt text-red-500 text-lg"},null,-1)),t("p",xe,r(x.simbol)+" "+r(j(R)(i.value.highestSalary?i.value.highestSalary:0,{decimalPlaces:3,currency:!0,decimal:!0})),1)]),e[6]||(e[6]=t("span",{class:"font-bold xl:text-lg 2xl:inline hidden dark:text-white"},"-",-1)),t("div",me,[e[5]||(e[5]=t("i",{class:"bx bx-up-arrow-alt text-green-500 text-lg"},null,-1)),t("p",ue,r(x.simbol)+" "+r(j(R)(i.value.highestSalary?i.value.highestSalary:0,{decimalPlaces:3,currency:!0,decimal:!0})),1)])])])])]),t("div",pe,[t("div",ve,[e[7]||(e[7]=t("p",{class:"text-sm underline mr-2 dark:text-white"},"Salario Médio",-1)),t("p",he,r(x.simbol)+" "+r(j(R)(i.value.average?i.value.average:0,{decimalPlaces:3,currency:!0,decimal:!0})),1)]),t("p",fe,r(a.position.salary.numberOfReviews)+" salarios reportados ",1)]),e[8]||(e[8]=t("div",{class:"flex justify-end"},null,-1))]))}}),_e={class:""},ye={key:0,class:""},we={class:"grid sm:grid-cols-2 lg:grid-cols-3 gap-10"},be={key:1},$e={class:"py-10"},ke={class:"flex flex-col justify-center items-center gap-1 dark:text-white"},Ce={class:"text-md text-gray-500 text-center dark:text-gray-300"},Se=["href"],De={key:2,class:""},Fe={class:"hidden md:block"},je={class:"grid sm:grid-cols-2 lg:grid-cols-3 gap-10"},Ae={class:"text-lg font-bold text-[#003F72] dark:text-white"},Ee={class:"bg-white dark:bg-gray-900"},Me={class:"text-lg font-bold text-[#003F72] dark:text-white"},Oe={class:""},Ie={class:"my-6"},Te=["href"],Re=S({__name:"OverviewSalary",setup(k){const m=z(),o=F(()=>m.params.companyId),x=tt(),s=P({metadata:{},positions:[]}),i=y(!1),v=y(!1),c=F(()=>s.positions.reduce((a,e)=>(a[e.area]||(a[e.area]=[]),a[e.area].push(e),a),{}));return L(async()=>{try{i.value=!0;const a=await x.getAll({filter:{companyId:o.value},page:1,limit:9});a.data?Object.assign(s,a.data):v.value=!0}catch(a){console.error("Erro ao buscar dados das áreas:",a)}finally{i.value=!1}}),(a,e)=>(l(),d(h,null,[e[6]||(e[6]=t("h2",{class:"text-[#2D2D2D] text-xl sm:text-2xl font-bold dark:text-white"},"Salários",-1)),t("div",_e,[i.value&&!v.value?(l(),d("div",ye,[e[0]||(e[0]=t("h1",{class:"max-w-32 my-4 h-4 bg-gray-200 rounded"},null,-1)),t("div",we,[(l(),d(h,null,w(3,n=>C(et)),64))])])):!i.value&&v.value?(l(),d("div",be,[t("div",$e,[e[3]||(e[3]=t("div",{class:"flex items-center justify-center dark:text-white"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"60",height:"60",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-dollar-sign h-12 w-12 text-muted-foreground mx-auto mb-4","data-lov-id":"src/pages/CompanyDetailPage.tsx:232:20","data-lov-name":"DollarSign","data-component-path":"src/pages/CompanyDetailPage.tsx","data-component-line":"232","data-component-file":"CompanyDetailPage.tsx","data-component-name":"DollarSign","data-component-content":"%7B%22className%22%3A%22h-12%20w-12%20text-muted-foreground%20mx-auto%20mb-4%22%7D"},[t("line",{x1:"12",x2:"12",y1:"2",y2:"22"}),t("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})])],-1)),t("div",ke,[e[2]||(e[2]=t("h1",{class:"font-bold text-xl text-center dark:text-white"},"Esta empresa ainda não foi avaliada",-1)),t("p",Ce,[e[1]||(e[1]=$("Seja o primeiro avaliar o salario na empresa, clique para ")),t("a",{href:`/company/${o.value}/review`,class:"text-[#003F72] underline text-md text-blue-500"},"avaliar",8,Se)])])])])):(l(),d("div",De,[t("div",Fe,[e[4]||(e[4]=t("p",{class:"text-[#424242] my-5 max-w-[95%] dark:text-white"},"Salário estimado com base em funcionários (antigos ou atuais).",-1)),(l(!0),d(h,null,w(c.value,(n,u)=>(l(),d("div",{key:u,class:"mb-6"},[t("div",je,[t("div",null,[t("h2",Ae,r(u),1),(l(!0),d(h,null,w(n,f=>(l(),d("div",{key:f.id,class:""},[(l(),D(st,{position:f,key:f.id},null,8,["position"]))]))),128))])])]))),128))]),C(U,{class:"block md:hidden",items:s.positions},N({_:2},[w(s.positions,(n,u)=>({name:`slide-${u}`,fn:T(({item:f})=>[t("div",Ee,[t("h2",Me,r(f.area),1),t("div",Oe,[(l(),D(ge,{position:f,key:f.id},null,8,["position"]))])])])}))]),1032,["items"]),t("div",Ie,[t("a",{class:"flex items-center mt-4 text-[#003F72] font-bold dark:text-blue-500",href:`/salaries/company/${o.value}`},e[5]||(e[5]=[$(" Pesquisar mais salários "),t("i",{class:"bx bx-chevron-right text-2xl text-black mt-1 dark:text-white"},null,-1)]),8,Te)])]))])],64))}}),ze={class:"px-[12%]"},Le={class:"mt-10 grid grid-cols-2 lg:grid-cols-4 max-w-2xl gap-4 md:gap-5 mb-10"},Pe={class:"border border-[#D4D2D0] min-h-[130px] justify-between shadow-sm py-3 px-4 rounded-lg flex flex-col gap-y-3"},qe={class:"block text-[#2D2D2D] xs:text-sm dark:text-white"},Be={class:"border border-[#D4D2D0] min-h-[130px] justify-between shadow-sm py-3 xs:px-2.5 px-4 rounded-lg flex flex-col gap-y-3"},Ve={class:"max-w-[90px] md:mt-[20px] block xs:text-sm text-[#2D2D2D] dark:text-white"},He={class:"border border-[#D4D2D0] min-h-[130px] shadow-sm justify-between py-3 xs:px-2.5 px-4 rounded-lg flex flex-col gap-y-3"},Ne={class:"text-[#595959] xs:text-sm block dark:text-white"},Ue={class:"border border-[#D4D2D0] min-h-[130px] justify-between shadow-sm py-3 xs:px-2.5 px-4 rounded-lg flex flex-col gap-y-3"},Ye={class:"dark:text-white"},Ke=["href"],Ge={class:"max-w-full sm:max-w-[95%] lg:max-w-[70%] my-5 text-[#595959] dark:text-gray-300"},We={class:"sm:pr-10"},Xe={class:"my-10"},Je={class:"my-10 md:my-24"},Qe={class:"px-[12%] my-3"},Ze={class:"grid grid-cols-1 w-full gap-x-10 lg:gap-x-20 gap-y-4 md:grid-cols-2 xl:grid-cols-3"},ts={class:"col-span-2"},es={class:"mt-4 col-span-2 md:col-span-1"},ss={class:"bg-white border lg:h-[180px] w-full rounded-md mt-3 relative flex justify-center items-center shadow-md"},as=["href"],os=S({__name:"OverviewCompany",props:{currentCompany:{}},setup(k){return(m,o)=>{var x,s,i;return l(),d(h,null,[t("div",ze,[o[5]||(o[5]=t("h1",{class:"text-xl sm:text-2xl font-bold text-[#2D2D2D] dark:text-white mt-10"}," Sobre a empresa ",-1)),t("div",Le,[t("div",Pe,[o[0]||(o[0]=t("h2",{class:"pt-2 font-bold md:text-normal text-sm dark:text-white"}," Tamanho da empresa ",-1)),t("span",qe,"De "+r((x=m.currentCompany.size)==null?void 0:x.min)+" a "+r((s=m.currentCompany.size)==null?void 0:s.max),1)]),t("div",Be,[o[1]||(o[1]=t("h2",{class:"pt-2 font-bold text-sm dark:text-white"},"Setor",-1)),t("span",Ve,r(m.currentCompany.sector),1)]),t("div",He,[o[2]||(o[2]=t("h2",{class:"pt-2 font-bold text-sm dark:text-white"},"Matriz",-1)),t("span",Ne,r((i=m.currentCompany.address)==null?void 0:i.country),1)]),t("div",Ue,[o[4]||(o[4]=t("h2",{class:"pt-2 font-bold text-sm dark:text-white"},"Link",-1)),t("div",Ye,[t("a",{class:"mt-2 block uppercase underline xs:text-sm text-[#003F72] max-w-full truncate dark:text-white",href:m.currentCompany.website,target:"_blank"},r(m.currentCompany.name),9,Ke),o[3]||(o[3]=t("i",{class:"bx bx-link-external block"},null,-1))])])]),t("div",Ge,[t("p",We,r(m.currentCompany.description),1)]),t("div",Xe,[t("div",Je,[C(Re)])])]),t("div",Qe,[o[8]||(o[8]=t("h1",{class:"text-xl sm:text-2xl font-bold dark:text-white"},"Avaliações",-1)),t("div",Ze,[t("div",ts,[C(Wt,{currentCompany:m.currentCompany},null,8,["currentCompany"])]),t("div",es,[o[7]||(o[7]=t("div",{class:"xl:px-8 dark:text-white"},[t("h2",{class:"md:text-2xl pr-5 text-xl font-bold"}," O que você diria sobre a empresa em que trabalha? "),t("p",{class:"my-3 sm:max-w-[250px]"}," Ajude outros candidatos compartilhando sua experiência única. ")],-1)),t("div",ss,[o[6]||(o[6]=t("img",{class:"max-w-full h-full object-cover rounded",src:dt,alt:""},null,-1)),t("a",{href:`/company/${m.currentCompany.id}/review`,class:"bg-[#003F72] hover:bg-[#002a4d] absolute sm:top-5 top-3 border-none px-8 py-3 rounded text-white font-bold"},"Escreva uma avaliação",8,as)])])])])],64)}}}),ls={class:"p-6 sm:p-8"},rs={class:"flex flex-col items-center"},ns=["src","alt"],is={class:"mt-4 text-center"},ds={class:"text-lg md:text-xl font-medium"},cs={class:"font-bold text-[#003F72]"},xs={class:"w-full mt-6 flex flex-col sm:flex-row gap-4"},ms=["href"],us=["href"],ps={class:"w-full bg-[#F8FAFB] flex items-center md:border-none border-b border-[#D4D2D0] md:py-0"},vs={class:"w-full mt-10 md:mt-20 min-h-auto px-[12%]"},hs={class:"flex lg:gap-16 justify-between items-center flex-wrap gap-4 xs:gap-2"},fs={class:"flex items-start gap-5"},gs=["src","alt"],_s={class:"xs:mb-2"},ys={class:"xs:text-base font-600 text-xl sm:mb-2"},ws={class:"xxs:hidden xs:text-sm text-md"},bs={class:"flex my-1 sm:my-2 items-center xxs:gap-0 gap-1 flex-wrap"},$s={key:0,class:"bx bxs-star-half text-[#003F72] text-xl sm:text-2xl"},ks={class:""},Cs={class:"xxs:text-sm text-md ml-1"},Ss={class:"block xs:hidden text-sm text-gray-500 underline"},Ds={class:"xs:my-5 my-10"},Fs={class:""},js={class:"md:border-b md:border-gray-300 flex gap-3"},As={class:"list-none pb-1 border-b-[4px] border-[#003F72]"},Es=["href"],Ms={class:"list-none pb-1"},Os=["href"],Is={class:"list-none pb-1"},Ts=["href"],Rs={class:"mt-32"},Qs=S({__name:"OverviewCompany",setup(k){const m=z(),o=lt();X();const x=y(!1),s=P({}),i=y(!1),v=y(!1),c=y("Não foi possível carregar as informações da empresa."),a=y(0),e=g=>Math.floor(g??0),n=g=>(g??0)%1>=.5,u=g=>{const p=n(g);return 5-e(g)-(p?1:0)};L(async()=>{try{x.value=!0,v.value=!1;const{isConnected:g,handleApiError:p}=await H(async()=>{const{isConnected:M,handleApiError:O}=await import("./api-CXpnPdcC.js");return{isConnected:M,handleApiError:O}},[]);if(!g()){v.value=!0,c.value="Sem conexão com a internet. Verifique sua rede e tente novamente.";return}const b=m.params.companyId,_=await o.getOne({filter:{id:b},page:1,limit:1});if(!_||!_.data){v.value=!0,c.value="Não foi possível carregar as informações da empresa.";return}Object.assign(s,_.data)}catch(g){console.error(g),v.value=!0;const{handleApiError:p}=await H(async()=>{const{handleApiError:_}=await import("./api-CXpnPdcC.js");return{handleApiError:_}},[]),b=p(g,"Ocorreu um erro ao carregar os dados da empresa.");a.value=b.code,c.value=b.message}finally{x.value=!1}});function f(){i.value=!i.value}return(g,p)=>(l(),d(h,null,[C(nt,{isOpen:i.value,onClose:p[0]||(p[0]=b=>i.value=!1),title:"Avaliar empresa",maxWidth:"xl"},{default:T(()=>[t("div",ls,[t("div",rs,[t("img",{class:"block mx-auto w-20 h-20 object-cover rounded-lg shadow-sm",src:s.logo,alt:`Logo da empresa ${s.name}`},null,8,ns),t("div",is,[t("h2",ds,[p[2]||(p[2]=$(" Como você gostaria de avaliar ")),t("span",cs,r(s.name),1),p[3]||(p[3]=$("? "))]),p[4]||(p[4]=t("p",{class:"text-gray-500 mt-1"},"Escolha uma das opções abaixo",-1))])]),t("div",xs,[t("a",{class:"flex-1 flex items-center gap-3 justify-center p-4 bg-[#003F72] hover:bg-[#002a4d] transition-colors rounded-lg shadow-sm text-white text-center",href:`/company/${s.id}/review`},p[5]||(p[5]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[t("path",{fill:"#fff",d:"m12 17.275l-4.15 2.5q-.275.175-.575.15t-.525-.2t-.35-.437t-.05-.588l1.1-4.725L3.775 10.8q-.25-.225-.312-.513t.037-.562t.3-.45t.55-.225l4.85-.425l1.875-4.45q.125-.3.388-.45t.537-.15t.537.15t.388.45l1.875 4.45l4.85.425q.35.05.55.225t.3.45t.038.563t-.313.512l-3.675 3.175l1.1 4.725q.075.325-.05.588t-.35.437t-.525.2t-.575-.15z"})],-1),t("span",{class:"font-bold"},"Experiência",-1)]),8,ms),t("a",{class:"flex-1 group flex items-center gap-3 text-[#003F72] justify-center p-4 border-2 border-[#003F72] hover:text-white hover:bg-[#003F72] transition-colors rounded-lg shadow-sm text-center",href:`/company/${s.id}/salary`},p[6]||(p[6]=[t("svg",{class:"w-6 h-6 group-hover:text-white",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[t("path",{fill:"currentColor",d:"M16 12c2.76 0 5-2.24 5-5s-2.24-5-5-5s-5 2.24-5 5s2.24 5 5 5m5.45 5.6c-.39-.4-.88-.6-1.45-.6h-7l-2.08-.73l.33-.94L13 16h2.8c.35 0 .63-.14.86-.37s.34-.51.34-.82c0-.54-.26-.91-.78-1.12L8.95 11H7v9l7 2l8.03-3c.01-.53-.19-1-.58-1.4M5 11H.984v11H5z"})],-1),t("span",{class:"font-bold"},"Salário",-1)]),8,us)])])]),_:1},8,["isOpen"]),v.value?(l(),D(it,{key:0,message:c.value,"error-code":a.value,"reload-button-text":"Recarregar página"},null,8,["message","error-code"])):x.value?(l(),D(rt,{key:1})):(l(),D(at,{key:2},{default:T(()=>{var b,_,M,O,q,B,V;return[t("div",ps,[t("div",vs,[t("div",hs,[t("div",fs,[t("img",{onClick:p[1]||(p[1]=I=>j(J).push("/overview/company/"+s.id)),class:"mt-1.5 sm:mt-0 cursor-pointer xxs:max-w-20 xxs:max-h-20 xs:w-24 xs:h-24 w-32 h-32 object-cover rounded",src:s.logo,alt:"Logo da empresa"+s.name},null,8,gs),t("div",_s,[t("h2",ys,r(s.name),1),t("span",ws,[p[7]||(p[7]=t("i",{class:"bx bx-map mr-1"},null,-1)),$(r((b=s.address)==null?void 0:b.city)+", "+r((_=s.address)==null?void 0:_.country),1)]),t("div",bs,[(l(!0),d(h,null,w(e(((M=s.rating)==null?void 0:M.average)??0),I=>(l(),d("i",{key:"filled-"+I,class:"bx bxs-star text-xl sm:text-2xl text-[#003F72]"}))),128)),n(((O=s.rating)==null?void 0:O.average)??0)?(l(),d("i",$s)):E("",!0),(l(!0),d(h,null,w(u(((q=s.rating)==null?void 0:q.average)??0),I=>(l(),d("i",{key:"empty-"+I,class:"bx bx-star text-xl sm:text-2xl text-[#003F72]"}))),128)),t("div",ks,[t("span",Cs,r((B=s.rating)!=null&&B.average?(V=s.rating)==null?void 0:V.average:0)+"/5",1)])]),t("span",Ss,r(s.sector),1)])]),t("div",{class:"w-full xs:max-w-72 sm:max-w-md rounded md:w-auto"},[t("a",{onClick:f,class:"cursor-pointer max-w-full text-center block lg:inline bg-[#003F72] py-[12px] md:py-[18px] md:px-[45px] rounded text-white border-none"},"Avaliar empresa")])]),t("div",Ds,[t("div",Fs,[t("ul",js,[t("li",As,[t("a",{href:"/overview/company/"+s.id,class:"cursor-pointer text-[#003F72] text-md xs:text-sm py-4 font-bold"},"Visão Geral",8,Es)]),t("li",Ms,[t("a",{href:"/reviews/company/"+s.id,class:"cursor-pointer text-[#003F72] text-md xs:text-sm py-3 font-bold"},"Avaliações",8,Os)]),t("li",Is,[t("a",{href:"/salaries/company/"+s.id,class:"cursor-pointer text-[#003F72] text-md xs:text-sm py-3 font-bold"},"Salários",8,Ts)])])])])])]),C(os,{currentCompany:s},null,8,["currentCompany"]),t("div",Rs,[C(ot,{currentCompany:s||null},null,8,["currentCompany"])])]}),_:1}))],64))}});export{Qs as default};
