import{d as F,u as R,g as i,y,w as k,h as z,c as r,i as h,l as L,s as S,j as T,F as A,o as t,a as e,n as D,p as _,C as P,q as m,t as v,f as x,e as N,k as U}from"./index-L9FfN0sg.js";import{_ as C}from"./logo-DvPXu7Y6.js";import{_ as Z}from"./AuthLayout.vue_vue_type_script_setup_true_lang-DWqLQrr6.js";import{_ as E,v as f,u as O,a as $}from"./_plugin-vue_export-helper-D3a9Murb.js";import{P as q}from"./PreloaderComponent-CBkDSBTt.js";import"./useTheme-8FjXQqbL.js";const I="/assets/Warning-rafiki-y71oQPUf.svg",Q={key:1,class:""},W={class:"py-[30px] md:py-[40px] md:px-[50px] md:bg-white md:w-[460px] md:min-h-[380px] box-border mx-auto md:rounded-[16px] md:shadow-lg"},G={class:"w-full mt-2 mb-2"},H={class:"relative flex flex-col gap-1"},J=["type"],K={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},X={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},Y={key:0,class:"text-red-400 text-sm"},ss={class:"w-full mb-2"},es={class:"relative flex flex-col gap-1"},os=["type"],as={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},ts={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},rs={key:0,class:"text-red-400 text-sm"},ns={class:""},ls=["disabled"],ds={key:0,class:"animate-spin rounded-full h-4 w-4 border-t-4 border-blue-500 border-solid"},is={key:1,class:"w-full h-screen flex items-center justify-center"},cs=F({__name:"ResetPassword",setup(us){const c=O(),g=R(),b=i(!1),w=i(!1),n=i(!1),u=i(!1),p=i(!1),o=y({password:"",confirmPassword:""}),a=y({password:{message:"",valid:!0},confirmPassword:{message:"",valid:!0}}),M=()=>{u.value=!u.value},j=()=>{p.value=!p.value};k(()=>o.password,()=>{a.password=f.validatePassword(o.password)},{deep:!0}),k(()=>o.confirmPassword,()=>{a.confirmPassword=f.validateConfirmPassword(o.confirmPassword,o.password)},{deep:!0});const V=()=>{a.password=f.validatePassword(o.password),a.confirmPassword=f.validateConfirmPassword(o.password,o.confirmPassword)},B=async()=>{try{if(n.value=!0,V(),!Object.values(a).every(d=>d.valid)){c.error(" Preencha os campos!");return}const s=await g.resetPassword(o);s.success?(c.success(s.message),setTimeout(()=>{U.push("/login")},3e3)):c.error(s.message)}catch(l){c.error("Ocorreu um erro!"),console.log(l)}finally{n.value=!1}};return z(async()=>{try{w.value=!0,b.value=await g.isValidResetPasswordToken()}catch(l){console.log(l)}finally{w.value=!1}}),(l,s)=>(t(),r(A,null,[w.value?(t(),h(q,{key:0})):(t(),r("div",Q,[b.value?(t(),h(Z,{key:0},{default:L(()=>[e("div",W,[s[8]||(s[8]=e("div",{class:"mb-5"},[e("a",{href:"/"},[e("img",{class:"md:max-w-[160px] max-w-[150px]",src:C,alt:""})])],-1)),s[9]||(s[9]=e("h1",{class:"my-1 font-[700] text-2xl"},"Defina uma nova palavra-passe ",-1)),s[10]||(s[10]=e("p",{class:"text-[14px] text-[#344054] font-[500]"},"A senha deve ter no mínimo 8 caracteres e incluir ao menos uma letra minúscula.",-1)),e("form",{onSubmit:D(B,["prevent"]),class:""},[e("div",G,[e("div",H,[s[4]||(s[4]=e("span",{class:"text-[#344054] text-sm font-[500]"},"Palavra-passe",-1)),_(e("input",{"onUpdate:modelValue":s[0]||(s[0]=d=>o.password=d),type:u.value?"text":"password",class:m([a.password.valid?"":"border-red-400 focus:ring-red-400","w-full px-4 py-2 border border-[#003F72] rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent"]),placeholder:"Repete a palavra-passe"},null,10,J),[[P,o.password]]),e("button",{type:"button",onClick:M,class:m([a.password.valid?"":"border-red-400 focus:ring-red-400","absolute inset-y-0 top-7 right-0 px-3 flex items-center text-gray-500 hover:text-gray-700 focus:outline-none"])},[u.value?(t(),r("svg",K,s[2]||(s[2]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"},null,-1),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"},null,-1)]))):(t(),r("svg",X,s[3]||(s[3]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"},null,-1)])))],2)]),a.password.valid?x("",!0):(t(),r("span",Y,v(a.password.message),1))]),e("div",ss,[e("div",es,[s[7]||(s[7]=e("span",{class:"text-[#344054] text-sm font-[500]"},"Confirmação da Palavra-passe",-1)),_(e("input",{"onUpdate:modelValue":s[1]||(s[1]=d=>o.confirmPassword=d),type:p.value?"text":"password",class:m([a.confirmPassword.valid?"":"border-red-400 focus:ring-red-400","w-full px-4 py-2 border border-[#003F72] rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent"]),placeholder:"Repete a palavra-passe"},null,10,os),[[P,o.confirmPassword]]),e("button",{type:"button",onClick:j,class:"absolute inset-y-0 top-7 right-0 px-3 flex items-center text-gray-500 hover:text-gray-700 focus:outline-none"},[p.value?(t(),r("svg",as,s[5]||(s[5]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"},null,-1),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"},null,-1)]))):(t(),r("svg",ts,s[6]||(s[6]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"},null,-1)])))])]),a.confirmPassword.valid?x("",!0):(t(),r("span",rs,v(a.confirmPassword.message),1))]),e("div",ns,[e("button",{type:"submit",disabled:n.value,class:m([{disable:n.value},"flex items-center gap-3 justify-center mt-4 bg-[#003F72] text-white w-full py-[10px] px-[20px] rounded-[12px] font-bold"])},[N(v(n.value?"Processando...":"Confirmar")+" ",1),n.value?(t(),r("div",ds)):x("",!0)],10,ls)])],32)])]),_:1})):(t(),r("div",is,s[11]||(s[11]=[S('<div class="flex px-10 md:px-0 md:flex-row flex-col-reverse items-center md:gap-10" data-v-1b88971c><div class="md:w-[800px] py-10" data-v-1b88971c><a href="/" data-v-1b88971c><img class="max-w-44 mb-5" src="'+C+'" alt="" data-v-1b88971c></a><div class="flex flex-col justify-center max-w-[380px]" data-v-1b88971c><h2 class="font-bold text-2xl" data-v-1b88971c>Token Expirou!</h2><p class="mt-2" data-v-1b88971c>Desculpe, mas o seu token expirou para renovar o token clica em recuperar a conta e introduza o seu email.</p><a href="/forgot-password" class="mt-5 bg-[#003F72] py-2 block max-w-[350px] text-center rounded text-white" data-v-1b88971c>Recuperar a conta</a></div></div><img class="max-w-[400px]" src="'+I+'" alt="" data-v-1b88971c></div>',1)])))])),T(E)],64))}}),gs=$(cs,[["__scopeId","data-v-1b88971c"]]);export{gs as default};
