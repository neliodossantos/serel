import{d as w,b as h,o as a,c as l,a as e,t as u,e as k,F as y,r as g,f as C,g as v,u as S,h as F,j as $,i as j}from"./index-L9FfN0sg.js";import"./_plugin-vue_export-helper-D3a9Murb.js";import"./MainLayout-vbuhhaMz.js";import{u as R}from"./companies-DLa6_4Al.js";import{I as B}from"./ItemCompanySkeleton-oU3BAync.js";const N={class:"w-full h-full pb-10 border-b-2 sm:border-none sm:pb-0"},V={class:"flex md:flex-col md:justify-between gap-5 h-full"},E=["src"],I={class:"flex flex-col justify-between gap-1 h-full flex-1"},L={class:"max-w-full"},A={class:"flex gap-1 items-center font-light text-sm 3xl:text-base dark:text-white"},M={class:"flex gap-1"},O={key:0,class:"bx bxs-star-half text-xl text-[#003F72] 3xl:text-2xl"},P={class:"font-light text-sm 3xl:text-base dark:text-white"},Q=w({__name:"ItemRelatedCompanyComponent",props:{company:{type:Object,required:!0}},setup(n){const r=n;function m(){window.location.href="/overview/company/"+r.company.id}const i=h(()=>{var s;return Math.floor(((s=r.company.rating)==null?void 0:s.average)??0)}),x=h(()=>{var s;return(((s=r.company.rating)==null?void 0:s.average)??0)%1>=.5}),d=h(()=>5-i.value-(x.value?1:0));return(s,t)=>{var c,p;return a(),l("div",N,[e("div",V,[e("img",{onClick:t[0]||(t[0]=o=>m()),src:n.company.logo,class:"xxs:w-16 xxs:h-16 w-24 h-24 2xl:w-32 2xl:h-32 3xl:w-36 3xl:h-36 hover:cursor-pointer object-cover rounded",alt:""},null,8,E),e("div",I,[e("div",L,[e("h3",{class:"xs:max-w-36 text-md 3xl:text-lg max-w-44 md:max-w-32 lg:max-w-44 2xl:max-w-48 3xl:max-w-60 hover:underline truncate cursor-pointer dark:text-white",onClick:t[1]||(t[1]=o=>m())},u(n.company.name),1),e("span",A,[t[2]||(t[2]=e("i",{class:"bx bx-map text-gray-500"},null,-1)),k(u((c=n.company.address)==null?void 0:c.city)+" , "+u((p=n.company.address)==null?void 0:p.country),1)]),e("div",M,[(a(!0),l(y,null,g(i.value,o=>(a(),l("i",{key:"filled-"+o,class:"bx bxs-star text-xl 3xl:text-2xl text-[#003F72]"}))),128)),x.value?(a(),l("i",O)):C("",!0),(a(!0),l(y,null,g(d.value,o=>(a(),l("i",{key:"empty-"+o,class:"bx bx-star text-xl 3xl:text-2xl text-[#003F72]"}))),128))])]),e("span",P,u(n.company.sector),1)])])])}}}),T={class:"px-[12%] sm:pt-8 pb-10 bg-[#F9F9F9] dark:bg-gray-900"},q={class:"flex items-center"},D={class:"xxs:text-lg text-xl sm:text-2xl mt-10 3xl:text-3xl font-bold dark:text-white"},H={class:"grid pb-10 mt-10 gap-y-10 sm:gap-y-16 grid-cols-1 md:grid-cols-2 lg:grid-cols-3 justify-items-stretch gap-x-10"},W=w({__name:"ListRelatedCompaniesComponent",props:{currentCompany:{}},setup(n){const r=v(!1);S();const m=R(),i=v([]),x=v(!1),d=n;return F(async()=>{var s;try{r.value=!0;const t={filter:{sector:(s=d.currentCompany)==null?void 0:s.sector},page:1,limit:4},p=(await m.getAll(t)).data.companies.filter(o=>{var f;return o.id!==((f=d.currentCompany)==null?void 0:f.id)});if(p.length>0)i.value=p.slice(0,3),x.value=!1;else{const o={filter:{},page:1,limit:4},f=await m.getAll(o);i.value=f.data.companies.filter(_=>{var b;return _.id!==((b=d.currentCompany)==null?void 0:b.id)}).slice(0,3),x.value=!0}}catch(t){console.log(t)}finally{r.value=!1}}),(s,t)=>(a(),l("div",T,[e("div",q,[e("h1",D,u(x.value?"Empresas Populares":"Empresas Relacionadas"),1)]),e("div",H,[r.value?(a(),l(y,{key:0},g(3,c=>$(B)),64)):(a(!0),l(y,{key:1},g(i.value,c=>(a(),j(Q,{key:c.id,company:c},null,8,["company"]))),128))])]))}});export{W as _};
